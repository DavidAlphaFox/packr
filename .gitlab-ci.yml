stages:
  - publish-executables
  - publish

publisWindowsExecutable:
  stage: publish-executable
  tags:
    - windows
  script:
    - ./gradlew -i --no-build-cache clean PackrLauncher:publish

publishLinuxExecutable:
  stage: publish-executable
  tags:
    - ubuntu
  script:
    - ./gradlew -i --no-build-cache clean PackrLauncher:publish

publishOsxExecutable:
  stage: publish-executable
  tags:
    - osx
  script:
    - ./gradlew -i --no-build-cache clean PackrLauncher:publish


publishWindows:
  stage: publish
  tags:
    - windows
  script:
    - ./gradlew -i --no-build-cache clean build publish

publishLinux:
  stage: publish
  tags:
    - ubuntu
  script:
    - ./gradlew -i --no-build-cache clean build publish

publishOsx:
  stage: publish
  tags:
    - osx
  script:
    - ./gradlew -i --no-build-cache clean build publish

after_script:
  - echo "End CI"
